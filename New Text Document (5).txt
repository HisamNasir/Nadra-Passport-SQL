-- Generated by Oracle SQL Developer Data Modeler 21.1.0.092.1221
--   at:        2021-05-26 09:48:22 PKT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE citizen (
    citizenid    NUMBER(13) NOT NULL,
    firstname    VARCHAR2(15) NOT NULL,
    middlename   VARCHAR2(15),
    lastname     VARCHAR2(15) NOT NULL,
    fathername   VARCHAR2(25) NOT NULL,
    fatherid     NUMBER(13) NOT NULL,
    gender       VARCHAR2(10) NOT NULL,
    dateofbirth  DATE NOT NULL,
    birthplace   VARCHAR2(50) NOT NULL,
    disability   VARCHAR2(20),
    recorddate   DATE NOT NULL
);

ALTER TABLE citizen ADD CONSTRAINT citizen_pk PRIMARY KEY ( citizenid );

CREATE TABLE department (
    departmentid    NUMBER(10) NOT NULL,
    departmentname  VARCHAR2(15) NOT NULL,
    locationid      NUMBER(10) NOT NULL
);

ALTER TABLE department ADD CONSTRAINT department_pk PRIMARY KEY ( departmentid );

CREATE TABLE employee (
    employeeid               NUMBER(15) NOT NULL,
    employeename             VARCHAR2(30) NOT NULL,
    salarydetail             VARCHAR2(50) NOT NULL,
    jobdetail                VARCHAR2(50) NOT NULL,
    department_departmentid  NUMBER(10) NOT NULL
);

ALTER TABLE employee ADD CONSTRAINT employee_pk PRIMARY KEY ( employeeid );

CREATE TABLE fee (
    citizenid      NUMBER(13) NOT NULL,
    invoiceid      NUMBER(10) NOT NULL,
    paymentid      NUMBER(10) NOT NULL,
    paymenttype    VARCHAR2(20),
    paymentamount  NUMBER(10),
    paymentdate    DATE
);

ALTER TABLE fee ADD CONSTRAINT fee_pk PRIMARY KEY ( invoiceid );

ALTER TABLE fee ADD CONSTRAINT fee_pkv1 UNIQUE ( invoiceid );

-- Error - Unique Constraint Fee.Fee_PKv2 doesn't have columns

CREATE TABLE location (
    locationid               NUMBER(10) NOT NULL,
    streetaddress            VARCHAR2(20) NOT NULL,
    postalcode               NUMBER(10) NOT NULL,
    city                     VARCHAR2(20) NOT NULL,
    state                    VARCHAR2(20) NOT NULL,
    province                 VARCHAR2(20) NOT NULL,
    department_departmentid  NUMBER(10) NOT NULL
);

ALTER TABLE location ADD CONSTRAINT location_pk PRIMARY KEY ( locationid );

CREATE TABLE nadra (
    citizenid       NUMBER(13) NOT NULL,
    martialstatus   VARCHAR2(10) NOT NULL,
    religion        VARCHAR2(20) NOT NULL,
    fingerprint     BLOB NOT NULL,
    signature       BLOB NOT NULL,
    citizenpicture  BLOB NOT NULL,
    recorddate      DATE NOT NULL,
    postalcode      NUMBER(15) NOT NULL,
    countryofstay   VARCHAR2(20)
);

ALTER TABLE nadra ADD CONSTRAINT nadra_pk PRIMARY KEY ( citizenid );

CREATE TABLE passport (
    citizenid         NUMBER(13) NOT NULL,
    passportid        NUMBER(9) NOT NULL,
    countrycode       NUMBER(15) NOT NULL,
    sername           VARCHAR2(30) NOT NULL,
    nationality       VARCHAR2(20) NOT NULL,
    issuedate         DATE NOT NULL,
    expirydate        DATE NOT NULL,
    issueauthority    VARCHAR2(15) NOT NULL,
    trakingnumber     NUMBER(11) NOT NULL,
    bookletnumber     NUMBER(8) NOT NULL,
    previouspassport  VARCHAR2(4) NOT NULL
);

ALTER TABLE passport ADD CONSTRAINT passport_pk PRIMARY KEY ( passportid );

ALTER TABLE passport ADD CONSTRAINT passport_pkv1 UNIQUE ( passportid );

ALTER TABLE employee
    ADD CONSTRAINT employee_department_fk FOREIGN KEY ( department_departmentid )
        REFERENCES department ( departmentid );

ALTER TABLE fee
    ADD CONSTRAINT fee_citizen_fk FOREIGN KEY ( citizenid )
        REFERENCES citizen ( citizenid );

ALTER TABLE location
    ADD CONSTRAINT location_department_fk FOREIGN KEY ( department_departmentid )
        REFERENCES department ( departmentid );

ALTER TABLE nadra
    ADD CONSTRAINT nadra_citizen_fk FOREIGN KEY ( citizenid )
        REFERENCES citizen ( citizenid );

ALTER TABLE passport
    ADD CONSTRAINT passport_citizen_fk FOREIGN KEY ( citizenid )
        REFERENCES citizen ( citizenid );

--  ERROR: No Discriminator Column found in Arc FKArc_1 - constraint trigger for Arc cannot be generated 

--  ERROR: No Discriminator Column found in Arc FKArc_1 - constraint trigger for Arc cannot be generated 

--  ERROR: No Discriminator Column found in Arc FKArc_1 - constraint trigger for Arc cannot be generated



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             7
-- CREATE INDEX                             0
-- ALTER TABLE                             14
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   4
-- WARNINGS                                 0
